{% extends "layout.njk" %}

{% block content %}
  <main class="grid">
    {% for project in collections.project %}
      {% set fallbackImage = project.data.images and project.data.images[0] %}
      {% set primaryImage = project.data.cover_image or fallbackImage %}
      <a class="thumb" href="{{ project.url }}"
         data-tur="{{ project.data.tur | slug }}"
         data-mimar="{{ project.data.mimar }}"
         data-yer="{{ project.data.yer | slug }}"
         data-tarih="{{ project.data.tarih }}"
         data-decade="{{ project.data.tarih | truncate(3, false, '') ~ "0'lar" }}">
        <div class="thumb-img-wrapper">
          {% if primaryImage %}
            <img src="{{ primaryImage.image }}" alt="{{ primaryImage.alt or project.data.title }}">
          {% else %}
            <div class="thumb-img-placeholder" aria-hidden="true"></div>
          {% endif %}
        </div>
        <div class="thumb-text">
          <h2>{{ project.data.title }}</h2>
          {% if project.data.mimar %}<div class="thumb-who">{{ project.data.mimar }}</div>{% endif %}
          <p>
            {{ project.data.yer }}<br>
            <span class="thumb-year">{{ project.data.tarih }}</span>
          </p>
        </div>
      </a>
    {% endfor %}
  </main>
{% endblock %}
