<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Extension Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }

        .info {
            background: #d1ecf1;
            color: #0c5460;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h1>Browser Extension Test</h1>

    <div class="warning">
        <h3>⚠️ Important: Test in Incognito/Private Mode</h3>
        <p>The authentication errors you're seeing might be caused by browser extensions (like GitHub Copilot).</p>
        <p><strong>Please test the admin pages in an incognito/private browsing window to rule out extension
                interference.</strong></p>
    </div>

    <div class="info">
        <h3>Steps to Test:</h3>
        <ol>
            <li>Open an incognito/private browsing window</li>
            <li>Go to: <a href="/admin/stable.html" target="_blank">/admin/stable.html</a></li>
            <li>Try to log in with GitHub</li>
            <li>Check if the 404 errors still occur</li>
        </ol>
    </div>

    <div class="info">
        <h3>Alternative Admin Pages to Test:</h3>
        <ul>
            <li><a href="/admin/stable.html">Stable Version (2.10.192)</a></li>
            <li><a href="/admin/simple.html">Simple Version</a></li>
            <li><a href="/admin/self-hosted.html">Self-Hosted Version</a></li>
            <li><a href="/admin/">Main Admin</a></li>
        </ul>
    </div>

    <div class="error">
        <h3>If Issues Persist in Incognito:</h3>
        <p>The problem might be:</p>
        <ul>
            <li>GitHub OAuth app configuration</li>
            <li>Netlify redirect settings</li>
            <li>Network/firewall blocking GitHub assets</li>
        </ul>
    </div>

    <script>
        // Check if we're in incognito mode (not 100% reliable but helpful)
        let isIncognito = false;
        try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
        } catch (e) {
            isIncognito = true;
        }

        if (isIncognito) {
            document.body.insertAdjacentHTML('afterbegin',
                '<div class="info"><strong>✅ You appear to be in incognito/private mode</strong></div>');
        } else {
            document.body.insertAdjacentHTML('afterbegin',
                '<div class="warning"><strong>⚠️ You are NOT in incognito mode. Browser extensions may interfere.</strong></div>');
        }
    </script>
</body>

</html>